                ┌─────────────────────────────┐
                │         main()              │
                └─────────────┬──────────────┘
                              │
                     参数检查 argc、argv
                              │
          ┌───────────────────┴───────────────────┐
          │                                       │
    普通模式 (argv[1] != "here_doc")       here_doc 模式 (argv[1] == "here_doc")
          │                                       │
  init_elist() 填充 cmd_count                  init_elist() 填充 cmd_count
          │                                       │
  execute_process_loop()                     read_here_doc()
          │                                ┌─────────────┐
          │                                │ here_doc_fd │
          │                                └─────────────┘
          │                                       │
 ┌────────┴─────────┐                             │
 │ 循环处理每条命令 │                             │
 │ i = 0 -> cmd1    │                             │
 │ i = 1 -> cmd2    │                             │
 │ ...              │                             │
 └────────┬─────────┘                             │
          │                                       │
 ┌────────┴─────────┐                             │
 │ fork 子进程执行  │                             │
 │ 每个子进程重定向│                             │
 │ stdin/stdout     │                             │
 └────────┬─────────┘                             │
          │                                       │
 ┌────────┴─────────┐                             │
 │ 关闭父进程不需要 │                             │
 │ 的管道           │                             │
 └────────┬─────────┘                             │
          │                                       │
 ┌────────┴─────────┐                             │
 │ execve(cmd_path) │                             │
 └────────┬─────────┘                             │
          │                                       │
 等待所有子进程结束                                  │
          │                                       │
  handle_plural_waitpid()                        ┌─┴─┐
          │                                      │ 关闭
     返回最后一个命令退出码                      │ here_doc_fd
                                                 └───┘
